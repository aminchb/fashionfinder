<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- WINDOW TITLE -->
    <title>TEMPLATE</title>
    
    <!-- WINDOW ICON -->
    <link rel="icon" href="img/logo.ico" type="image/x-icon">
    
    <!-- STYLES -->
    <style>
        /* GLOBAL VARIABLES */
        :root{
            --main-color: #dde2e7;
            --sub-color : #eee;
            --text-color : black;
            --navbar-style : italic;
        }

        html {
            scroll-behavior: smooth;
        }

        /* WHOLE PAGE TEXT COLOR */
        * {
            margin: 0px;
            padding: 0px;
            font-family: Arial, sans-serif;
            text-decoration: none;
            box-shadow: none;
            border: none;

            color: var(--text-color);
        }

        .show {
            display: flex;
        }

        .hidden {
            display: none;
        }

        /* PAGE BACKGROUND COLOR */
        body {
            height: 100vh;
            background: linear-gradient(to bottom, var(--main-color), var(--sub-color), var(--main-color));

        }

        body > * {
            padding : 10px;
        }

        /* NAVBAR STYLE */
        nav {
            font-style: var(--navbar-style);
        }

        .logo-text {
            display: flex;
        }

        .logo {
            height: 30px;
            margin-right: 5px;
        }

        main {
            height: calc(100vh - 70px);
            display: flex;   
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }
    </style>
    <link rel="stylesheet" href="styles/style.css">

</head>
<body>
    <!-- NAVBAR -->
    <nav>
        <a class="logo-text" href="index.html">
            
            <!-- WEBSITE LOGO -->
            <img class="logo" src="img/logo.svg" alt="Logo">
            
            <!-- WEBSITE NAME -->
            <h1>TEMPLATE</h1>
        </a>
    </nav>
    <main>
        <!-- START -->

        

        <!-- END -->
    </main>

    <!-- SCRIPTS -->
    <script>
        // REPO :

        // TODO : change repo name.
        const repo_name = "template";
        const owner = "aminchb";

        // CONSTS :
        const website_url = `https://${owner}.github.io/${repo_name}/`;
        const deployments_url = `https://github.com/${owner}/${repo_name}/deployments`;
        const apiUrl = `https://api.github.com/repos/${owner}/${repo_name}/commits`;


        // METHODS : ..............

        function version(){
            fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
            if (Array.isArray(data) && data.length > 0) {
            console.log("Dernier commit :", data[0].commit.message);
            } else {
            console.log("Aucun commit trouvé.");
            }
            })
            .catch(error => console.error("Erreur lors de la récupération des commits :", error));
        }

        function check(){
            if (typeof window !== "undefined" && typeof window.open === "function") {
                window.open(website_url, "_blank");
                window.open(deployments_url, "_blank");
            } else {
                const { exec } = require("child_process");
                const platform = process.platform;
                if (platform === "win32") {
                    exec(`start ${website_url}`);
                    exec(`start ${deployments_url}`);
                } else if (platform === "darwin") {
                    exec(`open ${website_url}`);
                    exec(`open ${deployments_url}`);
                } else {
                    exec(`xdg-open ${website_url}`);
                    exec(`xdg-open ${deployments_url}`);
                }
            }
        }

        function page_load(){
            console.log("PAGE LOAD : OK.");
            console.log("REPO : " + repo_name);
            version();
        }

        // CALLS : ........

        if (typeof window !== "undefined" && typeof window.document !== "undefined") {
            page_load();
        } else {
            check();
        }
    </script>

    <!-- END OF SCRIPTS -->
</body>
</html>